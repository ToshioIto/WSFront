<div class="form-container">
  <form [formGroup]="form" (submit)="registrar()" class="custom-form">
    <h2>Registrarse</h2>

    <div class="form-field">
      <label for="name">Nombre</label>
      <input type="text" id="name" formControlName="name" placeholder="Ingresa tu nombre completo" />
    </div>

    <div class="form-field">
      <label for="lastName">Apellido</label>
      <input type="text" id="lastName" formControlName="lastName" placeholder="Ingresa tus apellidos" />
    </div>

    <div class="form-field">
      <label for="dni">DNI</label>
      <input type="text" id="dni" formControlName="dni" placeholder="Ingresa tu número de DNI" />
    </div>

    <div class="form-field">
      <label for="birthDate">Fecha de nacimiento</label>
      <input type="date" id="birthDate" formControlName="birthDate" placeholder="Ingresa tu fecha de nacimiento" />
    </div>

    <div class="form-field">
      <label for="email">Correo</label>
      <input type="email" id="email" formControlName="email" placeholder="Ingresa tu correo" />
    </div>

    <div class="form-field">
      <label for="password">Contraseña</label>
      <div class="input-container">
        <input [type]="passwordVisible ? 'text' : 'password'" id="password" formControlName="password" placeholder="Ingresa tu contraseña" />
        <i class="toggle-password" (click)="togglePasswordVisibility()">
          <span *ngIf="!passwordVisible" class="material-icons">visibility</span>
          <span *ngIf="passwordVisible" class="material-icons">visibility_off</span>
        </i>
      </div>
      <div *ngIf="form.get('password')?.hasError('minlength')">
        La contraseña es muy corta. Debe tener al menos 5 caracteres.
      </div>
    </div>  

    <div class="form-field">
      <label for="username">Usuario</label>
      <input type="text" id="username" formControlName="username" placeholder="Ingresa tu usuario" />
    </div>

    <div class="form-field">
      <label for="roles">Rol</label>
      <select id="roles" formControlName="roles">
        <option *ngFor="let role of roles" [value]="role">{{ role }}</option>
      </select>
    </div>

    <div class="button-group">
      <button type="submit" [disabled]="!form.valid">Aceptar</button>
      <button type="button" routerLink="/login">Cancelar</button>
    </div>
  </form>
</div>
